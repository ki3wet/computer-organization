# 总线的控制【important】

## 基本概念

#### 主设备（模块）

对总线有控制权

#### 从设备（模块）

相应接送从主设备发来的总线命令



## 总线的判优控制分类

## **集中式**

### **链式查询方式**

一般用于微型计算机

![](../.gitbook/assets/image%20%2840%29.png)

#### Feature

数据线：数据内容的传输   
地址线：确定要输送信息的接口   
特性：接口优先级与BG线查询顺序有关，结构简单，增删设备容易   
缺陷：对电路故障特别敏感，速度比较慢



### 计数器定时查询方式

![](../.gitbook/assets/image%20%2826%29.png)

#### 步骤

1. 接口通过BR线发送总线占用请求
2. 计数器进行接口标记
3. 通过设备地址线将查看计数器对应的设备是否提出总线占用请求
4. 接口没有总线占用请求，计算器加１
5. 接口通过BS发送总线忙请求

#### 

#### Feature

每次计数可以从“0”开始，也可以从中止点开始,优先级灵活。

控制复杂，控制线多

相较于第一种增加的线：\[$$log_2N$$\]+2条（n为设备接口数）

设备地址编码：\[$$log_2N$$\]



### 独立请求方式

![](../.gitbook/assets/image%20%2819%29.png)

**步骤：**

1. 接口通过BR线发送总线占用请求
2. 排队器通过优先级以及对应是否发送总线占用请求来确认接口设备



优点：响应快，优先次序控制相当灵活，还可以屏蔽\(禁止\)某个请求  
缺点：控制复杂，控制线多：2n+1条（1：BS）



## 分布式

（略）

## 引用

> [https://www.bilibili.com/video/BV1AB4y1c7d2?p=18&spm\_id\_from=pageDriver](https://www.bilibili.com/video/BV1AB4y1c7d2?p=18&spm_id_from=pageDriver)

